<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>解碼器</title>
    <style>
        body { 
            font-family: "Courier New", Consolas, Monaco, monospace; 
            padding: 20px; 
            background-color: black; 
            color: white;
        }
        input, button { 
            margin: 5px 0; 
            padding: 8px; 
            border-radius: 5px;
        }
        .output, #question { 
            margin-top: 10px; 
            white-space: pre-wrap; 
            word-wrap: break-word; 
            overflow-wrap: break-word; 
        }
    </style>
</head>
<body>
    <h2>解碼器</h2>
    <p>要解碼的序列為：</p>
    <p id="question"></p>
    
    <label for="shift">請輸入 1-26 之間的正整數：</label><br>
    <input type="number" id="shift" min="1" max="26">
    <button onclick="decode()">解碼</button>
    
    <div class="output" id="output"></div>
    
    <script>
        const alp_list = 'abcdefghijklmnopqrstuvwxyz'.split('');
        const question = "Hnhhjnhjjjnanhhjhjnaahhhhhhahaahanannhaanhjnhnnhnananhnjajahhhajnajjhaanajnnnnjhannnhajnhjjhannaanhajaahanjajajnahjhhhjhjhhhhjjjnnjnjhhaannjnajhhnnhhhajaahhjnnhhhjhnhnanaanjjahaaahahnannnanhanjahanhhajanhahjaahhhjnhjajajnnjhhjnnhahajajnnjajaanjhajnhanhhnhhjnahnjnhhhanjnhahjaannananhhaanjhnhhajjjnanhhjjhajnhnajaaanhhjnjhhnaanjnjjjnhnnjjhaaahnnaanhnnnjhjnajanjjannnjnajhjhjhjhnjnajnaajjjhhjjhhaaaahaahhaannnnhhannhhhaannjjjjjjnhnajjaaaannnjhjnnaannjajhhhahaannajjajnhjnnjhhnanajnjnnajanannannaananhhjajhajjjjjahhnhjhhhhahhnhjnjhahnhjaanajnajahhjnnhjjhhjhahhjjjaannhhnjjn";

        document.getElementById("question").innerText = question;

        function decode() {
            let num = parseInt(document.getElementById("shift").value);
            let outputDiv = document.getElementById("output");
            if (isNaN(num) || num < 1 || num > 26) {
                outputDiv.innerText = "輸入有誤，請輸入 1-26 之間的正整數";
                return;
            }

            let code = question.toLowerCase();
            let out = "";

            for (let i = 0; i < code.length; i++) {
                let let_ = code[i];
                if (alp_list.includes(let_)) {
                    let newIndex = (alp_list.indexOf(let_) - num + 26) % 26;
                    out += alp_list[newIndex];
                } else {
                    out += let_;
                }
            }

            outputDiv.innerText = out;
        }
    </script>
</body>
</html>
